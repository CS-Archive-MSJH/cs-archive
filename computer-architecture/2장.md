# 2-1 0과 1로 숫자를 표현하는 방법

# 정보 단위

### 비트(bit): 0과 1을 표현하는 가장 작은 정보 단위

- 1비트로는 2개, 2비트로는 4개, 3비트로는 8개의 정보를 표현할 수 있음.
- n비트로는 2^n가지의 정보 표현 가능
- 프로그램은 수많은 비트로 이루어져 있음
- 다만, 평소 "이 파일은 8,920,120 비트야" 라고 표현하진 않음
- 비트보다 더 큰 단위를 사용
  * 바이트, 킬로바이트, 메가바이트, 기가바이트, 테라바이트...

| 크기 | 변환 값 |
|------|------------------------------|
| 1바이트 (1byte) | 8비트 (8bit) |
| 1킬로바이트 (1kB) | 1,000바이트 (1,000byte) |
| 1메가바이트 (1MB) | 1,000킬로바이트 (1,000kB) |
| 1기가바이트 (1GB) | 1,000메가바이트 (1,000MB) |
| 1테라바이트 (1TB) | 1,000기가바이트 (1,000GB) |  

- c.f.) 이전 단위를 1024개씩 묶은 단위는 kiB, MiB, GiB, ...

### 워드(work)
- CPU가 한 번에 처리할 수 있는 정보의 크기 단위 ex: CPU가 32비트씩 처리 가능하다 -> 1워드 = 32비트
- 하프 워드(half word): 워드의 절반 크기
- 풀 워드(full word): 워드 크기
- 더블 워드(double word): 워드의 두 배 크기

# 이진법(binary)

- 0과 1로 수를 표현하는 방법
- 숫자가 1을 넘어가는 시점에 자리올림
- 우리가 일상적으로 사용하는 진법은 숫자가 9를 넘어갈 때 자리올림하는 십진법(decimal)

| 십진수 | 이진수 | 비고  |
|--------|--------|-------|
| 1      | 1      |    ↓   |
| 2      | 10     | 자리 올림 |
| 3      | 11     |    ↓   |
| 4      | 100    | 자리 올림 |
| 5      | 101    |    ↓   |
| 6      | 110    | 자리 올림 |
| 7      | 111    |     ↓  |
| 8      | 1000   | 자리 올림 |

### 이진수 표기법

이진수 8 표기
       ┌── 1000(₂)
       │
       └── ob1000

### 이진수로 음수 표현하기

- 0과 1로 음수를 표현하기: 2의 보수
  1. 어떤 수를 그보다 큰 2^n에서 뺀 값

<img src="assets/2-1-1.jpg" alt="alt text" width="500"/>

  2. 모든 0과 1을 뒤집고 1을 더한 값

  <img src="assets/2-1-2.jpg" alt="alt text" width="500"/>

- 1011(₂)을 음수(2의 보수)로 표현하기
  1. 모든 0과 1 뒤집기 -> 0100
  2. 1더하기 = 0101 -> 1011(₂)을 음수로 표현한 값 0101(₂)

- 0101(₂)을 음수(2의 보수)로 표현하기
  1. 모든 0과 1 뒤집기 -> 1010
  2. 1더하기 = 1011 -> 0101(₂)을 음수로 표현한 값 1011(₂)

- -1011(₂)를 표현하기 위한 0101(₂)과 십진수 5를 표현하기 위한 0101(₂)은 똑같이 생겼는데 어떻게 구분하죠?
- 이것을 구분하기 위해 CPU 내부에 플래그(Flag) 레지스터가 있는데, 양수 및 음수를 표현해줌

# 16진법

- 이진법으로는 숫자의 길이가 너무 길어진다
  - 십진수 32 == 이진수 100000

- 그래서 컴퓨터의 데이터를 표현할 때 십육진법도 많이 사용
  - 수가 15를 넘어가는 시점에 자리 올림

| 십진수  | 0  | 1  | 2  | 3  | 4  | 5  | 6  | 7  | 8  | 9  | 10 | 11 | 12 | 13 | 14 | 15 | 16  | 17  | ... |
|---------|----|----|----|----|----|----|----|----|----|----|----|----|----|----|----|----|----|----|----|
| 십육진수 | 0  | 1  | 2  | 3  | 4  | 5  | 6  | 7  | 8  | 9  | A  | B  | C  | D  | E  | F  | 10  | 11  | ... |

- 간단하게 16진법 표현
  - 손가락 하나도 안폈으면 10 -> A
  - 손가락 하나 폈으면 11 -> B
  - 손가락 두 개 12 -> C
  - 손가락 세 개 13 -> D
  - 손가락 네 개 14 -> E
  - 손가락 다섯 개 15 -> F

### 16진수 표현 법

십육진수 15 표기
       ┌── 15(₁₆)  ⟵ 수학적 표기 방식
       │
       └── 0x15    ⟵ 코드상 표기 방식

### 직접 코드에 써넣는 사례도 많다 

offset = __mem_to_opcode_arm(*(u32 *)loc);
offset = (offset & **0x00ffffff**) << 2;
if (offset & **0x02000000**)
    offset -= **0x04000000**;
offset += sym->st_value - loc;

### 이진수 <-> 16진수 변환

16진법 사용하는 이유: 이진수와 16진수 사이의 변환이 쉬워서

1. 이진수 -> 십육진수 

- 1A2B(₁₆) 
- 1 -> 0001(₂)
- A -> 1010(₂)
- 2 -> 0010(₂)
- B -> 1011(₂)
- -> 0001101000101011(₂)

2. 십육진수 -> 이진수

- 10100101(₂)
- 1010 -> D(₁₆)
- 0101 -> 5(₁₆)
- -> D5(₁₆)